"use strict";import*as core from"./core.js";import tag from"./tag.js";import button from"./button.js";import*as option from"./option.js";import ul from"./ul.js";import btngroup from"./btngroup.js";const defaultOption={option:null,container:"btn-group",arrow:"down",splittoggle:!1,aligment:null,offset:null,reference:void 0,autoclose:!0,color:null,dark:null,vertical:!1,weight:null,show:null,shown:null,hide:null,hidden:null};export default class dropdown extends tag{cldropdown=1;constructor(...e){super(...e)}get data(){return super.data}set data(e){if(e){(e=core.extend({},defaultOption,e)).id=e.id||core.UUID(),e.splittoggle&&void 0===e.reference&&(e.reference="parent"),e.option=Array.isArray(e.option)?e.option:[e.option];let o=new ul({class:["dropdown-menu",e.dark?"dropdown-menu-dark":null,core.multiClass(e.aligment,{format:"dropdown-menu-$1"})],elem:new option.dropdown({item:e.option,selected:e.value})}),t=core.extend({},e);delete t.option,delete t.container,delete t.arrow,delete t.splittoggle,delete t.aligment,delete t.offset,delete t.reference,delete t.autoclose,delete t.dark,delete t.vertical,delete t.weight,delete t.show,delete t.shown,delete t.hide,delete t.hidden;let l=core.extend({},t);delete t.id,l=core.merge(l,{class:"dropdown-toggle","aria-expanded":"false","data-bs-auto-close":e.autoclose,"data-bs-reference":e.reference,"data-bs-offset":e.offset,"data-bs-toggle":"dropdown","aria-labelledby":e.id,"show.bs.dropdown":e.show,"shown.bs.dropdown":e.shown,"hide.bs.dropdown":e.hide,"hidden.bs.dropdown":e.hidden}),e.splittoggle&&delete t.badge;let n=e.splittoggle?new button(t):new button(l);l.label="Toggle Dropdown",l.hidelabel=!0,l.icon=null,l=core.merge(l,{class:"dropdown-toggle-split"});let r=e.splittoggle?new button(l):null;e.splittoggle&&"start"===e.arrow?super.data={tag:e.container?"div":null,class:e.container?["btn-group",e.container,e.arrow?`drop${e.arrow}`:null]:null,elem:[new btngroup({weight:e.weight,vertical:e.vertical,elem:[r,o]}),n]}:super.data={tag:e.container?"div":null,class:e.container?[e.container,e.arrow?`drop${e.arrow}`:null]:null,elem:[n,r,o]}}}}