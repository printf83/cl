"use strict";import*as core from"./core.js";import h from"./h.js";import label from"./label.js";import div from"./div.js";import btnclose from"./btnclose.js";const defaultOption={title:void 0,icon:void 0,placement:"start",close:!0,showtitle:null,iconafter:!1,scroll:!0,backdrop:!1,autoclose:null,elem:null,color:null,bodyoverflow:null,onshow:null,onshown:null,onhide:null,onhidden:null};export default class offcanvas extends div{_bs=null;constructor(...e){super(...e)}get data(){return super.data}set data(e){if(e){(e=core.extend({},defaultOption,e)).id=e.id?e.id:core.UUID(),void 0===e.icon&&(e.icon=core.setting.icon()),void 0===e.title&&(e.title=core.setting.title());var o=null;(e.close||e.title)&&(o=new div({class:"offcanvas-header",elem:[e.title||e.icon?new h({level:5,class:"offcanvas-title",id:`${e.id}-label`,elem:new label({icon:e.icon,label:e.title,showlabel:e.showtitle,iconafter:e.iconafter})}):null,e.close?new btnclose({class:"text-reset",dismiss:"offcanvas","data-bs-target":e.autoclose?`#${e.id}`:null}):null]}));var t=null;e.elem&&(t=new div({class:["offcanvas-body",e.bodyoverflow?`overflow-${e.bodyoverflow}`:null].filter(Boolean),elem:e.elem})),delete(e=core.merge(e,{class:[e.placement?`offcanvas-${e.placement}`:"offcanvas-start",e.autoclose?`offcanvas-${e.autoclose}`:"offcanvas"],"aria-labelledby":`${e.id}-label`,"data-bs-scroll":e.scroll?"true":"false","data-bs-backdrop":e.backdrop?"true":"false",tabindex:"-1","show.bs.offcanvas":e.onshow,"shown.bs.offcanvas":e.onshown,"hide.bs.offcanvas":e.onhide,"hidden.bs.offcanvas":e.onhidden,elem:[o,t]})).placement,delete e.close,delete e.title,delete e.icon,delete e.scroll,delete e.backdrop,delete e.showtitle,delete e.iconafter,delete e.onshow,delete e.onshown,delete e.onhide,delete e.onhidden,super.data=e}}get bs(){return this._bs}set bs(e){this._bs=e}show=()=>{core.appendChild(document.body,this),this.bs=new bootstrap.Offcanvas(this.dom);let e=e=>{core.init(e.currentTarget)},o=e=>{let o=e.currentTarget;core.removeElement(o)};this.dom.addEventListener("shown.bs.offcanvas",e,!1),this.dom.addEventListener("hidden.bs.offcanvas",o,!1),core.setupEventListenerRemover("offcanvas",this.dom,(()=>{core.deleteEventListener("offcanvas",this.dom,(()=>{this.dom.removeEventListener("shown.bs.offcanvas",e,!1),this.dom.removeEventListener("hidden.bs.offcanvas",o,!1),this.bs.dispose(),this.bs=null,this.dom=null}))})),this.bs.show()};static hide(e){bootstrap.Offcanvas.getInstance(e)?.hide()}}