"use strict";import*as core from"./core.js";import tag from"./tag.js";import div from"./div.js";const defaultTrOption={tag:"tr"},defaultTdOption={tag:"td",scope:null,colspan:null,rowspan:null},defaultThOption={tag:"th",scope:"col",colspan:null,rowspan:null},defaultTHeadOption={tag:"thead"},defaultTBodyOption={tag:"tbody"},defaultTFootOption={tag:"tfoot"},defaultContainerOption={tag:"table",color:null,striped:!1,stripedcolumn:!1,responsive:!0,hover:!1,border:null,borderColor:null,caption:null,captiontop:!1,rownumber:!1,header:!0,footer:!1,item:null};export class tr extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){super.data=core.extend({},defaultTrOption,e)}}export class thead extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){(e=core.extend({},defaultTHeadOption,e)).elem=Array.isArray(e.elem)?e.elem:[e.elem],e.elem=e.elem.map((e=>(e.hasOwnProperty("cl")&&"td"===e.tag&&(e.tag="th"),e))),super.data=e}}export class tbody extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){super.data=core.extend({},defaultTBodyOption,e)}}export class tfoot extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){(e=core.extend({},defaultTFootOption,e)).elem=Array.isArray(e.elem)?e.elem:[e.elem],e.elem=e.elem.map((e=>(e.hasOwnProperty("cl")&&"td"===e.tag&&(e.tag="th"),e))),super.data=e}}export class td extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){e=core.extend({},defaultTdOption,e),super.data=e}}export class th extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){delete(e=core.extend({},defaultThOption,e)).colspan,delete e.rowspan,delete e.scope,super.data=e}}export class container extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){e=core.extend({},defaultContainerOption,e);let t=null,r=null,o=null;if((e=core.merge(e,{class:["table",e.color?`table-${e.color}`:null,e.striped?"table-striped":null,e.stripedcolumn?"table-striped-columns":null,e.hover?"table-hover":null,e.captiontop?"caption-top":null,e.size?`table-${e.size}`:null,null!==e.border?!1===e.border?"table-borderless":!0===e.border?"table-bordered":null:null]})).item){let a=Array.isArray(e.item)?e.item:[e.item];if(e.header){let r=[];r=a[0].map((e=>"object"==typeof e?e.hasOwnProperty("cl")?e:new td(e):new th({scope:"col",elem:e}))),e.rownumber&&r.unshift(new th({scope:"col",elem:"#"})),t=new thead({elem:new tr({elem:r})})}let l=[],n=e.header?1:0,s=a.length-(e.footer?1:0);for(;n<s;n++){let t=[];t=a[n].map((e=>"object"==typeof e?e.hasOwnProperty("cl")?e:new td(e):new td({elem:e}))),e.rownumber&&t.unshift(new th({scope:"row",elem:n.toString()})),l.push(new tr({elem:t}))}if(r=new tbody({elem:l}),e.footer){let t=[];t=a[s].map((e=>"object"==typeof e?e.hasOwnProperty("cl")?e:new td(e):new th({scope:"col",elem:e}))),e.rownumber&&t.unshift(new th({scope:"row"})),o=new tfoot({elem:new tr({elem:t})})}}let a=null;e.caption&&(a=new tag({tag:"caption",elem:e.caption})),e.elem=e.elem?Array.isArray(e.elem)?e.elem:[e.elem]:[a,t,r,o],delete e.color,delete e.striped,delete e.stripedcolumn,delete e.hover,delete e.captiontop,delete e.size,delete e.border,delete e.rownumber,delete e.header,delete e.footer,delete e.item,e.responsive?(delete e.responsive,super.data=new div({class:["string"==typeof e.responsive?`tbl-responsive-${e.responsive}`:"table-responsive"],elem:new tag(e)}).data):(delete e.responsive,super.data=e)}}