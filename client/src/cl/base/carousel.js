"use strict";import*as core from"./core.js";import div from"./div.js";import h from"./h.js";import span from"./span.js";import button from"./button.js";import img from"./img.js";import p from"./p.js";const defaultOption={control:!1,touch:!0,slide:!0,fade:!1,indicators:!1,dark:!1,item:null,slide:null,slid:null},defaultItemOption={src:null,alt:null,caption:null,text:null,interval:0};export default class carousel extends div{constructor(...e){super(...e)}get data(){return super.data}set data(e){if(e){(e=core.extend({},defaultOption,e)).id=e.id||core.UUID(),e.item=e.item?Array.isArray(e.item)?e.item:[e.item]:null;let l=null;e.indicators&&(l=new div({class:"carousel-indicators",elem:e.item?.map(((l,t)=>("string"==typeof l&&(l={src:l}),l=core.extend({},defaultItemOption,l),new button({class:0===t?"active":null,"aria-current":0===t?"true":null,"aria-label":l.caption?l.caption:l.alt?l.alt:`Slide ${t+1}`,"data-bs-slide-to":`${t}`,"data-bs-target":`${e.id}`}))))}));let t=null,a=null;e.control&&(t=new button({class:"carousel-control-prev","data-bs-target":`#${e.id}`,"data-bs-slide":"prev",elem:[new span({class:"carousel-control-prev-icon","aria-hidden":"true"}),new span({class:"visually-hidden",elem:"Previous"})]}),a=new button({class:"carousel-control-next","data-bs-target":`#${e.id}`,"data-bs-slide":"next",elem:[new span({class:"carousel-control-next-icon","aria-hidden":"true"}),new span({class:"visually-hidden",elem:"Next"})]}));let s=new div({class:"carousel-inner",elem:e.item?.map(((l,t)=>("string"==typeof l&&(l={src:l}),l=core.extend({},defaultItemOption,l),delete(l=core.merge(l,{class:["carousel-item",0===t?"active":null],"data-bs-interval":l.interval&&e.touch?l.interval:null,elem:[new img({width:100,display:"block",alt:l.alt?l.alt:l.caption?l.caption:null,src:l.src}),l.caption||l.text?new div({display:["none","md-block"],class:"carousel-caption",elem:[l.caption?new h({level:5,elem:l.caption}):null,l.text?new p(l.text):null]}):null]})).src,delete l.alt,delete l.caption,delete l.text,delete l.interval,new div(l))))});delete(e=core.merge(e,{class:["carousel",e.slide?"slide":null,e.fade?"carousel-fade":null,e.dark?"carousel-dark":null],"data-bs-ride":"carousel","data-bs-touch":e.touch?null:"false","data-bs-interval":e.touch?null:"false","slide.bs.carousel":e.slide,"slid.bs.carousel":e.slid,elem:[l,s,t,a]})).control,delete e.touch,delete e.slide,delete e.fade,delete e.indicators,delete e.dark,delete e.item,delete e.slide,delete e.slid,super.data=e}}}