"use strict";import badge from"./badge.js";const _setting={debug:0};export const setting={get DEBUG(){return _setting.debug},set DEBUG(e){_setting.debug=e}};const eventdb={db:{},create:e=>{let t=UUID("fn_xxxxxxxxxxxxxxx");return eventdb[t]=e,t},call:e=>eventdb[e],remove:e=>{e.getAttributeNames().forEach((t=>{t.startsWith("cl.event.")&&delete eventdb[e.getAttribute(t)]}))}};export function combineArray(e,t){return removeEmptyArray(e)?.join(t)}function removeEmptyArray(e){return e.filter(Boolean)}export function UUID(e){return(e||"el_xxxxxxxxxxxx").replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}export function isHTML(e){if("string"==typeof e)return/<\/?[a-z][\s\S]*>/i.test(e)||/\&\#\x\S{4}\;/i.test(e)||/\&\S+\;/i.test(e)}export function setupEventListenerRemover(e,t,o){void 0===t.detachEventListener&&(t.detachEventListener={}),t.detachEventListener[e]=o,setting.DEBUG>2&&console.log(`Attach ${e} event to ${elemInfo(t)}`)}export function deleteEventListener(e,t,o){setting.DEBUG>2&&console.log(`Remove ${e} event from ${elemInfo(t)}`),t.detachEventListener[e]=null,delete t.detachEventListener[e],o()}const bootstrapSpacer=[0,1,2,3,4,5,"auto","sm-0","md-0","lg-0","xl-0","xxl-0","sm-1","md-1","lg-1","xl-1","xxl-1","sm-2","md-2","lg-2","xl-2","xxl-2","sm-3","md-3","lg-3","xl-3","xxl-3","sm-4","md-4","lg-4","xl-4","xxl-4","sm-5","md-5","lg-5","xl-5","xxl-5","sm-auto","md-auto","lg-auto","xl-auto","xxl-auto"],bootstrapDisplay=["none","inline","inline-block","block","grid","table","table-cell","table-row","flex","inline-flex","sm-none","sm-inline","sm-inline-block","sm-block","sm-grid","sm-table","sm-table-cell","sm-table-row","sm-flex","sm-inline-flex","md-none","md-inline","md-inline-block","md-block","md-grid","md-table","md-table-cell","md-table-row","md-flex","md-inline-flex","lg-none","lg-inline","lg-inline-block","lg-block","lg-grid","lg-table","lg-table-cell","lg-table-row","lg-flex","lg-inline-flex","xl-none","xl-inline","xl-inline-block","xl-block","xl-grid","xl-table","xl-table-cell","xl-table-row","xl-flex","xl-inline-flex","xxl-none","xxl-inline","xxl-inline-block","xxl-block","xxl-grid","xxl-table","xxl-table-cell","xxl-table-row","xxl-flex","xxl-inline-flex"],bootstrapFlex=["row","row-reverse","column","column-reverse","wrap","wrap-reverse","nowrap","fill","shrink-0","shrink-1","grow-0","grow-1","sm-row","sm-row-reverse","sm-column","sm-column-reverse","sm-wrap","sm-wrap-reverse","sm-nowrap","sm-fill","sm-shrink-0","sm-shrink-1","sm-grow-0","sm-grow-1","md-row","md-row-reverse","md-column","md-column-reverse","md-wrap","md-wrap-reverse","md-nowrap","md-fill","md-shrink-0","md-shrink-1","md-grow-0","md-grow-1","lg-row","lg-row-reverse","lg-column","lg-column-reverse","lg-wrap","lg-wrap-reverse","lg-nowrap","lg-fill","lg-shrink-0","lg-shrink-1","lg-grow-0","lg-grow-1","xl-row","xl-row-reverse","xl-column","xl-column-reverse","xl-wrap","xl-wrap-reverse","xl-nowrap","xl-fill","xl-shrink-0","xl-shrink-1","xl-grow-0","xl-grow-1","xxl-row","xxl-row-reverse","xxl-column","xxl-column-reverse","xxl-wrap","xxl-wrap-reverse","xxl-nowrap","xxl-fill","xxl-shrink-0","xxl-shrink-1","xxl-grow-0","xxl-grow-1"],bootstrapJustifyContent=["start","end","center","between","around","evenly","sm-start","sm-end","sm-center","sm-between","sm-around","sm-evenly","md-start","md-end","md-center","md-between","md-around","md-evenly","lg-start","lg-end","lg-center","lg-between","lg-around","lg-evenly","xl-start","xl-end","xl-center","xl-between","xl-around","xl-evenly","xxl-start","xxl-end","xxl-center","xxl-between","xxl-around","xxl-evenly"],bootstrapAlign=["start","end","center","baseline","stretch","sm-start","sm-end","sm-center","sm-baseline","sm-stretch","md-start","md-end","md-center","md-baseline","md-stretch","lg-start","lg-end","lg-center","lg-baseline","lg-stretch","xl-start","xl-end","xl-center","xl-baseline","xl-stretch","xxl-start","xxl-end","xxl-center","xxl-baseline","xxl-stretch"],bootstrapAlignContent=["start","end","center","between","around","stretch","sm-start","sm-end","sm-center","sm-between","sm-around","sm-stretch","md-start","md-end","md-center","md-between","md-around","md-stretch","lg-start","lg-end","lg-center","lg-between","lg-around","lg-stretch","xl-start","xl-end","xl-center","xl-between","xl-around","xl-stretch","xxl-start","xxl-end","xxl-center","xxl-between","xxl-around","xxl-stretch"],bootstrapOrder=["last",0,1,2,3,4,5,6,7,8,9,10,11,12,"last","sm-first","sm-0","sm-1","sm-2","sm-3","sm-4","sm-5","sm-6","sm-7","sm-8","sm-9","sm-10","sm-11","sm-12","sm-last","md-first","md-0","md-1","md-2","md-3","md-4","md-5","md-6","md-7","md-8","md-9","md-10","md-11","md-12","md-last","lg-first","lg-0","lg-1","lg-2","lg-3","lg-4","lg-5","lg-6","lg-7","lg-8","lg-9","lg-10","lg-11","lg-12","lg-last","xl-first","xl-0","xl-1","xl-2","xl-3","xl-4","xl-5","xl-6","xl-7","xl-8","xl-9","xl-10","xl-11","xl-12","xl-last","xxl-first","xxl-0","xxl-1","xxl-2","xxl-3","xxl-4","xxl-5","xxl-6","xxl-7","xxl-8","xxl-9","xxl-10","xxl-11","xxl-12","xxl-last"],bootstrapGrid=[0,1,2,3,4,5,6,7,8,9,10,11,12,"sm-0","sm-1","sm-2","sm-3","sm-4","sm-5","sm-6","sm-7","sm-8","sm-9","sm-10","sm-11","sm-12","md-0","md-1","md-2","md-3","md-4","md-5","md-6","md-7","md-8","md-9","md-10","md-11","md-12","lg-0","lg-1","lg-2","lg-3","lg-4","lg-5","lg-6","lg-7","lg-8","lg-9","lg-10","lg-11","lg-12","xl-0","xl-1","xl-2","xl-3","xl-4","xl-5","xl-6","xl-7","xl-8","xl-9","xl-10","xl-11","xl-12","xxl-0","xxl-1","xxl-2","xxl-3","xxl-4","xxl-5","xxl-6","xxl-7","xxl-8","xxl-9","xxl-10","xxl-11","xxl-12"],bootstrapRowCol=["auto",0,1,2,3,4,5,6,7,8,9,10,11,12,"sm-auto","sm-0","sm-1","sm-2","sm-3","sm-4","sm-5","sm-6","sm-7","sm-8","sm-9","sm-10","sm-11","sm-12","md-auto","md-0","md-1","md-2","md-3","md-4","md-5","md-6","md-7","md-8","md-9","md-10","md-11","md-12","lg-auto","lg-0","lg-1","lg-2","lg-3","lg-4","lg-5","lg-6","lg-7","lg-8","lg-9","lg-10","lg-11","lg-12","xl-auto","xl-0","xl-1","xl-2","xl-3","xl-4","xl-5","xl-6","xl-7","xl-8","xl-9","xl-10","xl-11","xl-12","xxl-auto","xxl-0","xxl-1","xxl-2","xxl-3","xxl-4","xxl-5","xxl-6","xxl-7","xxl-8","xxl-9","xxl-10","xxl-11","xxl-12"],bootstrapFloat=["start","end","none","sm-start","sm-end","sm-none","md-start","md-end","md-none","lg-start","lg-end","lg-none","xl-start","xl-end","xl-none","xxl-start","xxl-end","xxl-none"],bootstrapColor=["primary","secondary","success","danger","warning","info","light","dark","body","muted","white","black","black-50","white-50","transparent","link"],bootstrapPositionView=["start","sm-start","md-start","lg-start","xl-start","center","sm-center","md-center","lg-center","xl-center","end","sm-end","md-end","lg-end","xl-end"];function camel2Dash(e){return e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))}function dash2Camel(e){return e.replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}))}const bootstrapPropertyDb={userSelect:{format:"user-select-$1",value:["all","auto","none"]},pointerEvent:{format:"pe-$1",value:["auto","none"]},position:{format:"position-$1",value:["static","relative","absolute","fixed","sticky","tooltip"]},overflow:{format:"overflow-$1",value:["auto","hidden","visible","scroll"]},textAlign:{format:"text-$1",value:bootstrapPositionView},verticalAlign:{format:"align-$1",value:["baseline","top","middle","bottom","text-top","text-bottom"]},opacity:{format:"opacity-$1",value:[0,25,50,75,100]},bgOpacity:{format:"bg-opacity-$1",value:[10,25,50,75,100]},textOpacity:{format:"text-opacity-$1",value:[25,50,75,100]},btnColor:{format:"btn-$1",value:bootstrapColor},btnOutlineColor:{format:"btn-outline-$1",value:bootstrapColor},alertColor:{format:"alert-$1",value:bootstrapColor},textBgColor:{format:"text-bg-$1",value:bootstrapColor},textColor:{format:"text-$1",value:bootstrapColor},linkColor:{format:"link-$1",value:bootstrapColor},bgColor:{format:"bg-$1",value:bootstrapColor},textTransform:{format:"text-$1",value:["lowercase","uppercase","capitalize"]},textDecoration:{format:"text-decoration-$1",value:["underline","line-through","none"]},lineHeight:{format:"lh-$1",value:[1,"sm","base","lg"]},fontSize:{format:"fs-$1",value:[1,2,3,4,5,6]},fontWeight:{format:"fw-$1",value:["bold","bolder","normal","light","lighter"]},top:{format:"top-$1",value:[0,50,100]},bottom:{format:"bottom-$1",value:[0,50,100]},start:{format:"start-$1",value:[0,50,100]},end:{format:"end-$1",value:[0,50,100]},tMiddle:{format:"translate-middle-$1",formatTrue:"translate-middle",value:[!0,"x","y"]},height:{format:"h-$1",value:["auto",25,50,75,100]},width:{format:"w-$1",value:["auto",25,50,75,100]},maxHeight:{format:"mh-$1",value:[100]},maxWidth:{format:"mw-$1",value:[100]},minViewHeight:{format:"min-vh-$1",value:[100]},minViewWidth:{format:"min-vw-$1",value:[100]},viewHeight:{format:"vh-$1",value:[100]},viewWeight:{format:"vw-$1",value:[100]},placeholderAnimation:{format:"placeholder-$1",value:["glow","wave"]},placeholderWeight:{format:"placeholder-$1",formatValue:"placeholder $1",value:["lg","sm","xs"]},shadow:{format:"shadow-$1",formatTrue:"shadow",formatFalse:"shadow-none",value:[!0,!1,"none","sm","lg","inset"]},border:{format:"border-$1",formatTrue:"border",formatFalse:"border-0",value:[!0,!1,"top","end","bottom","start"]},borderNone:{format:"border-$1-0",formatTrue:"border-0",value:[!0,"top","end","bottom","start"]},borderColor:{format:"border-$1",formatValue:"border",value:bootstrapColor},borderOpacity:{format:"border-opacity-$1",formatValue:"border",value:[10,25,50,70]},borderWidth:{format:"border-$1",formatValue:"border",value:[1,2,3,4,5]},rounded:{format:"rounded-$1",formatTrue:"rounded",formatFalse:"rounded-0",value:[!0,!1,"top","end","bottom","start","circle","pill"]},roundedNone:{format:"rounded-$1-0",formatTrue:"rounded-0",formatFalse:"rounded",formatValue:"rounded",value:[!0,!1,"top","end","bottom","start"]},roundedSize:{format:"rounded-$1",formatValue:"rounded",value:[0,1,2,3,4,5]},padding:{format:"p-$1",value:bootstrapSpacer},paddingX:{format:"px-$1",value:bootstrapSpacer},paddingY:{format:"py-$1",value:bootstrapSpacer},paddingTop:{format:"pt-$1",value:bootstrapSpacer},paddingBottom:{format:"pb-$1",value:bootstrapSpacer},paddingStart:{format:"ps-$1",value:bootstrapSpacer},paddingEnd:{format:"pe-$1",value:bootstrapSpacer},margin:{format:"m-$1",value:bootstrapSpacer},marginX:{format:"mx-$1",value:bootstrapSpacer},marginY:{format:"my-$1",value:bootstrapSpacer},marginTop:{format:"mt-$1",value:bootstrapSpacer},marginBottom:{format:"mb-$1",value:bootstrapSpacer},marginStart:{format:"ms-$1",value:bootstrapSpacer},marginEnd:{format:"me-$1",value:bootstrapSpacer},gap:{format:"gap-$1",value:bootstrapSpacer},gutter:{format:"g-$1",value:bootstrapSpacer},gutterX:{format:"gx-$1",value:bootstrapSpacer},gutterY:{format:"gy-$1",value:bootstrapSpacer},display:{format:"d-$1",value:bootstrapDisplay},print:{format:"d-print-$1",value:bootstrapDisplay},container:{format:"container-$1",formatTrue:"container",value:[!0,"xs","sm","md","lg","xl","xxl","fluid"]},flex:{format:"flex-$1",value:bootstrapFlex},float:{format:"float-$1",value:bootstrapFloat},order:{format:"order-$1",value:bootstrapOrder},offset:{format:"offset-$1",value:bootstrapGrid},alignContent:{format:"align-content-$1",value:bootstrapAlignContent},justifyContent:{format:"justify-content-$1",value:bootstrapJustifyContent},alignItem:{format:"align-items-$1",value:bootstrapAlign},alignSelf:{format:"align-self-$1",value:bootstrapAlign},visible:{formatTrue:"visible",formatFalse:"invisible",value:[!0,!1]},textWrap:{formatTrue:"text-wrap",formatFalse:"text-nowrap",value:[!0,!1]},fontItalic:{formatTrue:"fst-italic",formatFalse:"fst-normal",value:[!0,!1]},bgGradient:{formatTrue:"bg-gradient",value:[!0]},wordBreak:{formatTrue:"text-break",value:[!0]},monospace:{formatTrue:"font-monospace",value:[!0]},placeholder:{formatTrue:"placeholder",value:[!0]},row:{formatTrue:"row",value:[!0]},col:{format:"col-$1",formatTrue:"col",value:[!0,...bootstrapRowCol]},rowCol:{format:"row-cols-$1",value:bootstrapRowCol}};let bootstrapPropertyAllow=[];function allowBootstrap(e){if(0===bootstrapPropertyAllow.length){let e=Object.keys(bootstrapPropertyDb);bootstrapPropertyAllow=[...e,...e.map((e=>{let t=camel2Dash(e);if(t!==e)return t})).filter(Boolean)]}if(bootstrapPropertyAllow.indexOf(e)>-1){let t=dash2Camel(e);return t!==e?t:e}return null}function attachBootstrap(e,t,o){let r=allowBootstrap(e);if(null!==r)if(Array.isArray(o[e])){let l=!1;o[e].forEach((e=>{bootstrapPropertyDb[r].value.indexOf(e)>-1?(l=!1===l&&!0===bootstrapPropertyDb[r].shared,bootstrapPropertyDb[r].hasOwnProperty("formatValue")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatValue)),!0===e?bootstrapPropertyDb[r].hasOwnProperty("formatTrue")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatTrue)):!1===e?bootstrapPropertyDb[r].hasOwnProperty("formatFalse")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatFalse)):bootstrapPropertyDb[r].hasOwnProperty("format")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].format.replace(/\$1/g,e)))):setting.DEBUG>0&&console.warn(`${r}:"${e}" is not supported value for bootstrap property`)})),l||delete o[e]}else bootstrapPropertyDb[r].value.indexOf(o[e])>-1?(bootstrapPropertyDb[r].hasOwnProperty("formatValue")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatValue)),!0===o[e]?bootstrapPropertyDb[r].hasOwnProperty("formatTrue")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatTrue)):!1===o[e]?bootstrapPropertyDb[r].hasOwnProperty("formatFalse")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].formatFalse)):bootstrapPropertyDb[r].hasOwnProperty("format")&&(t=addIntoClassList(t,bootstrapPropertyDb[r].format.replace(/\$1/g,o[e]))),bootstrapPropertyDb[r].shared||delete o[e]):setting.DEBUG>0&&console.warn(`${o[e]}:"${e}" is not supported value for bootstrap property`);return{opt:o,elem:t}}const stylePropertyDb=["alignContent","alignItem","alignSelf","animation","animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationTimingFunction","animationPlayState","background","backgroundAttachment","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","backgroundClip","backgroundOrigin","backgroundSize","backfaceVisibility","border","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderCollapse","borderColor","borderImage","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","bottom","boxDecorationBreak","boxShadow","boxSizing","captionSide","caretColor","clear","clip","color","columnCount","columnFill","columnGap","columnRule","columnRuleColor","columnRuleStyle","columnRuleWidth","columns","columnSpan","columnWidth","content","counterIncrement","counterReset","cursor","direction","display","emptyCells","filter","flex","flexBasis","flexDirection","flexFlow","flexGrow","flexShrink","flexWrap","cssFloat","font","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","fontSizeAdjust","fontStretch","hangingPunctuation","height","hyphens","icon","imageOrientation","isolation","justifyContent","left","letterSpacing","lineHeight","listStyle","listStyleImage","listStylePosition","listStyleType","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","navDown","navIndex","navLeft","navRight","navUp","objectFit","objectPosition","opacity","order","orphans","outline","outlineColor","outlineOffset","outlineStyle","outlineWidth","overflow","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","pageBreakAfter","pageBreakBefore","pageBreakInside","perspective","perspectiveOrigin","position","quotes","resize","right","scrollBehavior","tableLayout","tabSize","textAlign","textAlignLast","textDecoration","textDecorationColor","textDecorationLine","textDecorationStyle","textIndent","textJustify","textOverflow","textShadow","textTransform","top","transform","transformOrigin","transformStyle","transition","transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","unicodeBidi","userSelect","verticalAlign","visibility","whiteSpace","width","wordBreak","wordSpacing","wordWrap","widows","zIndex"];let stylePropertyAllow=[];function allowStyle(e){if(0===stylePropertyAllow.length){let e=stylePropertyDb;stylePropertyAllow=[...e,...e.map((e=>{let t=camel2Dash(e);if(t!==e)return t})).filter(Boolean)]}if(stylePropertyAllow.indexOf(e)>-1){let t=dash2Camel(e);return t!==e?t:e}return null}function attachStyle(e,t,o){let r=allowStyle(e);return null!==r&&(t.style[r]=o[e],delete o[e]),{opt:o,elem:t}}function attachManualStyle(e,t,o){if("style"===e){let r=Object.keys(o[e]);if(r)for(let l=0;l<r.length;l++)o[e][r]&&t.style.setProperty(r,o[e][r]);delete o[e]}return{opt:o,elem:t}}function attachEvent(e,t,o){return"function"==typeof o[e]&&(t.addEventListener(e,o[e],!1),setupEventListenerRemover(e,t,(()=>{deleteEventListener(e,t,(()=>{t.removeEventListener(e,o[e],!1)}))})),delete o[e]),{opt:o,elem:t}}function genClassList(e){let t=[],o=null;if(o=Array.isArray(e)?e:[e],o=o.filter(Boolean),o&&o.length>0)for(let e=0;e<o.length;e++)if(o[e].indexOf(" ")>-1){if(o[e]=o[e].split(" "),o[e]=o[e].filter(Boolean),o[e]&&o[e].length>0)for(let r=0;r<o[e].length;r++)t.push(o[e][r])}else t.push(o[e]);return t&&t.length>0?t:null}function addIntoClassList(e,t){try{let o=genClassList(t);o&&o.length>0&&e.classList.add(...o)}catch(e){console.error(`Fail to add class ${t}`,e)}return e}function attachClass(e,t,o){if("class"===e){t=addIntoClassList(t,o[e]),delete o[e]}return{opt:o,elem:t}}const booleanAttr=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","indeterminate","controls","default","defer","disabled","formnovalidate","novalidate","noValidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","open","playsinline","readOnly","required","reversed","selected","truespeed"];function attachBoolean(e,t,o){return booleanAttr.indexOf(e)>-1&&(!0===o[e]?t.setAttribute(e,e):!1===o[e]||setting.DEBUG>2&&console.log(`Attribute ${e}:${o[e]} is not TRUE`),delete o[e]),{opt:o,elem:t}}function attachData(e,t,o){return e.startsWith("data")&&(t.setAttribute(e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),o[e]),delete o[e]),{opt:o,elem:t}}function attachAria(e,t,o){return e.startsWith("aria")&&(t.setAttribute(e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),o[e]),delete o[e]),{opt:o,elem:t}}function attachSpecial(e,t,o){return!0===o[e]&&("active"===e?(t=addIntoClassList(t,"active"),delete o[e]):"disabled"===e&&((t=addIntoClassList(t,e)).setAttribute(`aria-${e}`,o[e]),t.setAttribute(e,e),t.setAttribute("tabindex",-1),delete o[e])),{opt:o,elem:t}}function attachOther(e,t,o){let r=Array.isArray(o[e])?o[e].join(" "):o[e];return"href"===e&&"#"===r?t.setAttribute(e,"javascript:void(0);"):t.setAttribute(e,r),delete o[e],{opt:o,elem:t}}function cleanupAttr(e,t,o){return null===(void 0===o[e]||o[e])?(setting.DEBUG>3&&console.log(`${e}:${o[e]} is null or undefined. Delete it`),delete o[e]):setting.DEBUG>3&&console.log(`${e}:${o[e]} isNot null and undefined`),{opt:o,elem:t}}const notAttr=["tag","elem"],fnAttr={cleanupAttr,attachSpecial,attachBoolean,attachData,attachAria,attachBootstrap,attachEvent,attachStyle,attachManualStyle,attachClass,attachOther},fnAttrDb=["cleanupAttr","attachSpecial","attachBoolean","attachData","attachAria","attachBootstrap","attachEvent","attachStyle","attachManualStyle","attachClass","attachOther"];function attachAttr(e,t){if(e&&t){let o=extend({},t),r=Object.keys(o);if(r){let t=r.length,l=fnAttrDb.length;for(let a=0;a<t;a++)if(-1===notAttr.indexOf(r[a]))for(let t=0;t<l;t++)if(o.hasOwnProperty(r[a])&&null!==o[r[a]]&&void 0!==o[r[a]]){t===l-1&&setting.DEBUG>2&&console.log(`Treat ${r[a]}:${o[r[a]]} as another attribute.`);let n=fnAttr[fnAttrDb[t]](r[a],e,o);o=n.opt,e=n.elem}}}return e}function _bootstrapClassBuilder(e,t){let o=[];return t.hasOwnProperty("formatValue")&&(o=[...o,...genClassList(t.formatValue)]),!0===e?t.hasOwnProperty("formatTrue")&&(o=[...o,...genClassList(t.formatTrue)]):!1===e?t.hasOwnProperty("formatFalse")&&(o=[...o,...genClassList(t.formatFalse)]):t.hasOwnProperty("format")&&(o=[...o,...genClassList(t.format.replace(/\$1/g,e))]),o&&o.length>0?o:null}export function multiClass(e,t){if(null!=e){if(!t.hasOwnProperty("value"))return _bootstrapClassBuilder(e,t);if(t.value.indexOf(e)>-1)return _bootstrapClassBuilder(e,t);setting.DEBUG>0&&console.warn(`"${e}" is not supported value for this rule`,{value:e,rules:t})}return null}export function mergeStyle(e,t){if(null!==e&&null!==t&&void 0!==e&&void 0!==t){let o={};return Object.keys(e).forEach((e=>{o[e]=t[e]})),Object.keys(t).forEach((r=>{e.hasOwnProperty(r)||(o[r]=t[r])})),o}return null!=e?e:null!=t?t:null}export function mergeClass(e,t){if(null!==e&&null!==t&&void 0!==e&&void 0!==t){let o=typeof e,r=typeof t,l=Array.isArray(e),a=Array.isArray(t);return l||a||"string"!==o||"string"!==r?!l&&a&&"string"===o?(t.push(e),t):l&&!a&&"string"===r?(e.push(t),e):l&&a?[...e,...t]:(console.error("Unhandle class rules",[o,r,l,a]),null):[e,t]}return null!=e?e:null!=t?t:null}export function mergeObject(e,t,o){if(null!==e&&null!==t&&void 0!==e&&void 0!==t){let r={};return Object.keys(e).forEach((l=>{t.hasOwnProperty(l)&&null!=t?"class"===l?r[l]=mergeClass(e[l],t[l]):"style"===l?r[l]=mergeStyle(e[l],t[l]):o&&o.hasOwnProperty(l)?r[l]=o[l](e[l],t[l]):r[l]=t[l]:r[l]=e[l]})),Object.keys(t).forEach((o=>{e.hasOwnProperty(o)||null!==t[o]&&void 0!==t[o]&&(r[o]=t[o])})),r}return null!=e?e:null!=t?t:null}const fnA={defaultRule:{rule:null,fn:null},compareRulesAndArg:(e,t)=>{if(null===t){if(null===e)return!0}else if(e){if(e.length===t.length){let o=Array.from({length:e.length},(e=>!1));for(let r=0;r<e.length;r++)if("function"==typeof e[r])!0===e[r](t[r])&&(o[r]=!0);else if(e[r].indexOf("|")>=0){let l=e[r].split("|");for(let e=0;e<l.length;e++)if(l[e]===t[r]||"any"===l[e]){o[r]=!0;break}}else e[r]!==t[r]&&"any"!==e[r]||(o[r]=!0);return!(o.indexOf(!1)>-1)}}else setting.DEBUG>1&&console.warn("a is null");return!1},getFunction:(e,t)=>{if(e&&e.length>0)for(var o=0;o<e.length;o++)if(fnA.compareRulesAndArg(e[o].rule,t))return e[o].fn;return null},checkArgType:e=>{if(void 0===e)return"undefined";if(null===e)return"null";if(Array.isArray(e))return e.length>0?`${fnA.checkArgType(e[0])}[]`:"any[]";{let t=typeof e;return"object"===t?e.hasOwnProperty("cl")?"cl":!0===e.debug?"debug":t:t}},getArgType:e=>{if(e&&e.length>0){let t=[];return e.forEach((e=>{t.push(fnA.checkArgType(e))})),t}return null},main:(e,t,...o)=>{let r=fnA.getArgType(...o),l=fnA.getFunction(e,r);return l?l(...o):(setting.DEBUG>1&&console.error(`"${t}" argument "${r.join(", ")}" is not supported by any rules`,{type:r,rule:e?e.map((e=>e?.rule?.join(", "))):null}),null)}};export const multipleConstructorClass=fnA.main;export function extend(e){e=e||{};for(let t=1;t<arguments.length;t++)if(arguments[t])for(let o in arguments[t])arguments[t].hasOwnProperty(o)&&(e[o]=arguments[t][o]);return e}export function elemInfo(e){let t=e.localName,o=e.id?`#${e.id}`:"",r=o?"":e.classList&&e.classList.length>0?"."+[].slice.apply(e.classList).join("."):"",l=o||r?"":e.name?`[name='${e.name}']`:"";return`${t}${o}${r}${l}${o||r||l?"":e.innerText?` [${e.innerText}]`:""}`}function build(e,t){if(t&&(t=Array.isArray(t)?t:[t]).length>0){let o=!!e;if(e=e||document.createElement("div"),t.forEach((t=>{if(null!==t&null!==t.data){let o=t.data.tag?document.createElement(t.data.tag):e;o=attachAttr(o,t.data),t.data.elem&&(t.data.elem=Array.isArray(t.data.elem)?t.data.elem:[t.data.elem],t.data.elem.forEach((e=>{if(e){let r=typeof e;if("string"===r||"number"===r||"boolean"===r)"pre"!==t.data.tag&&isHTML(e)?o.insertAdjacentHTML("beforeend",e):Array.isArray(e)?console.error("i is array. This happen when you set elem: [[tag],tag]. It should be elem:[tag,tag]",e):o.appendChild(document.createTextNode(e));else if(e.hasOwnProperty("cl")){let t=build(o,e);o=t||o}else console.error("i is not elem or [elem] or string or number or boolean",e)}}))),t.dom=o,t.data.tag&&e.appendChild(o)}})),o)return e;{let t=e.childNodes;return e=null,t}}return null}export function detachEventListener(e){if(e){let t=e?.childNodes;t?.length>0&&t.forEach((e=>{detachEventListener(e),e.detachEventListener&&Object.keys(e.detachEventListener).forEach((t=>{e.detachEventListener[t]()}))})),e.detachEventListener&&Object.keys(e.detachEventListener).forEach((t=>{e.detachEventListener[t]()}))}}export function removeChildElement(e){for(;e.firstChild;)detachEventListener(e.firstChild),e.firstChild.remove()}export function removeElement(e){detachEventListener(e),e.remove()}export function appendChild(e,t){setting.DEBUG>1&&console.time("appendChild");let o=node(t);return Node.prototype.isPrototypeOf(o)?e.appendChild(o):NodeList.prototype.isPrototypeOf(o)&&o.forEach((t=>{e.appendChild(t)})),setting.DEBUG>1&&console.timeEnd("appendChild"),e.lastChild}export function prependChild(e,t){setting.DEBUG>1&&console.time("prependChild");let o=node(t);return Node.prototype.isPrototypeOf(o)?e.insertBefore(o,e.firstChild):NodeList.prototype.isPrototypeOf(o)&&o.forEach((t=>{e.insertBefore(t,e.firstChild)})),setting.DEBUG>1&&console.timeEnd("prependChild"),e.firstChild}export function replaceWith(e,t){setting.DEBUG>1&&console.time("replaceWith"),removeChildElement(e);let o=null,r=node(t),l=e.parentNode;return Node.prototype.isPrototypeOf(r)?o=l.insertBefore(r,e):NodeList.prototype.isPrototypeOf(r)&&r.forEach((t=>{o=l.insertBefore(t,e)})),removeElement(e),setting.DEBUG>1&&console.timeEnd("replaceWith"),o}export function replaceChild(e,t){return setting.DEBUG>1&&console.time("replaceChild"),removeChildElement(e),build(e,t),setting.DEBUG>1&&console.timeEnd("replaceChild"),e.childNodes}export function node(e){return build(null,e)}export function html(e){let t=document.createElement("div");t=build(t,e);let o=t.innerHTML;return t=null,o}export function init(e){[].slice.call(e.querySelectorAll('[data-bs-toggle="popover"]')).map((e=>{let t=new bootstrap.Popover(e);return setupEventListenerRemover("popover",e,(()=>{deleteEventListener("popover",e,(()=>{bootstrap.Popover.getInstance(e)?.dispose()}))})),t})),[].slice.call(e.querySelectorAll('[data-bs-toggle="tooltip"]')).map((e=>{let t=new bootstrap.Tooltip(e);return setupEventListenerRemover("tooltip",e,(()=>{deleteEventListener("tooltip",e,(()=>{bootstrap.Tooltip.getInstance(e)?.dispose()}))})),t}))}export function attachTooltip(e){return e&&e.tooltip&&(e.tooltip.msg&&(e=mergeObject(e,{title:e.tooltip.msg,"data-bs-toggle":"tooltip","data-bs-placement":e.tooltip.placement||"top","show.bs.tooltip":e.tooltip.show,"shown.bs.tooltip":e.tooltip.shown,"hide.bs.tooltip":e.tooltip.hide,"hidden.bs.tooltip":e.tooltip.hidden,"inserted.bs.tooltip":e.tooltip.inserted})),delete e.tooltip),e}export function attachPopover(e){return e&&e.popover&&(e.popover.msg&&(e=mergeObject(e,{title:e.popover.title,"data-bs-toggle":"popover","data-bs-trigger":e.popover.trigger||"focus hover","data-bs-content":e.popover.msg,"data-bs-placement":e.popover.placement||"top","data-bs-html":isHTML(e.popover.msg)?"true":null,"show.bs.popover":e.popover.show,"shown.bs.popover":e.popover.shown,"hide.bs.popover":e.popover.hide,"hidden.bs.popover":e.popover.hidden,"inserted.bs.popover":e.popover.inserted})),delete e.popover),e}export function attachBadge(e){return e&&e.badge&&(e.hasOwnProperty("cl")?(e.data.badge&&"object"==typeof e.data.badge&&e.data.badge.notification&&(e.data.position=e.data.position||"relative"),e.data.elem?e.data.elem.push(new badge(e.data.badge)):e.data.elem=[new badge(e.data.badge)]):(e.badge&&"object"==typeof e.badge&&e.badge.notification&&(e.position=e.position||"relative"),e.elem?Array.isArray(e.elem)?e.elem.push(new badge(e.badge)):e.elem=[e.elem,new badge(e.badge)]:e.elem=[new badge(e.badge)])),e}