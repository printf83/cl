"use strict";import*as core from"./core.js";import tag from"./tag.js";import label from"./label.js";import li from"./li.js";import span from"./span.js";import hr from"./hr.js";import h from"./h.js";import button from"./button.js";const defaultOption={item:null,selected:null},defaultSelectItemOption={tag:"option",value:null,label:null,selected:!1},defaultSelectGroupOption={tag:"optgroup",label:null};export class select extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){if(e){(e=core.extend({},defaultOption,e)).selected=Array.isArray(e.selected)?e.selected:[e.selected],e.item=Array.isArray(e.item)?e.item:[e.item];let t=null,l={},a=[];for(let o=0;o<e.item.length;o++)null===e.item[o]||"string"==typeof e.item[o]?(l={tag:"option",value:e.item[o],selected:e.selected?.includes(e.item[o]),elem:e.item[o]},null!==t?t.elem.push(new tag(l)):a.push(new tag(l))):"-"===e.item[o].value&&e.item[o].label?(null!==t&&(a.push(new tag(t)),t={}),t=core.extend({},defaultSelectGroupOption,e.item[o]),t.elem=[],delete t.value,delete t.selected):(l=core.extend({},defaultSelectItemOption,e.item[o]),l=core.merge(l,{value:l.value,selected:e.selected?.includes(l.value)}),l.elem=l.label,delete l.label,null!==t?t.elem.push(new tag(l)):a.push(new tag(l)));null!==t&&a.push(new tag(t)),e.elem=a,delete e.item,delete e.selected,super.data=e}}}const defaultDropdownItemOption={value:null,label:null,icon:null,iconafter:!1,showlabel:null,hidelabel:null,active:!1,interactive:!0};export class dropdown extends tag{constructor(...e){super(...e)}get data(){return super.data}set data(e){e&&((e=core.extend({},defaultOption,e)).selected=Array.isArray(e.selected)?e.selected:[e.selected],e.item=Array.isArray(e.item)?e.item:[e.item],e.elem=e.item.map((t=>{if("string"==typeof t)return new li({elem:new span({class:["dropdown-item",e.selected?.includes(t)?"active":null],badge:t.badge,tooltip:t.tooltip,popover:t.popover,elem:new label({label:t})})});if(t.hasOwnProperty("cl"))return new li({elem:t});{let l={};return l="-"===(t=core.extend({},defaultDropdownItemOption,t)).value?t.label?new h({level:6,class:"dropdown-header",badge:t.badge,tooltip:t.tooltip,popover:t.popover,elem:new label({label:t.label,icon:t.icon,iconafter:t.iconafter,showlabel:t.showlabel,hidelabel:t.hidelabel})}):new hr({class:"dropdown-divider",badge:t.badge,tooltip:t.tooltip,popover:t.popover}):t.elem?t.elem:new tag({tag:t.href?"a":t.interactive?"button":"span",class:[t.interactive?"dropdown-item":"dropdown-item-text",!0===t.active||t.value&&e.selected?.includes(t.value)?"active":null],badge:t.badge,tooltip:t.tooltip,popover:t.popover,disabled:t.disabled,href:t.href,type:!t.href&&t.interactive?"button":null,elem:new label({label:t.label,icon:t.icon,iconafter:t.iconafter,showlabel:t.showlabel,hidelabel:t.hidelabel})}),new li(l)}})),delete e.item,delete e.selected,super.data=e)}}