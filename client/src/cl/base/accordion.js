"use strict";import css from"./css/accordion.css";import*as core from"./core.js";import h from"./h.js";import div from"./div.js";import button from"./button.js";const defaultOption={flush:!1,autoclose:!0,autoopen:!0,item:null},defaultItemOption={label:null,showlabel:null,hidelabel:!1,iconafter:!1,icon:null,badge:null,active:!1,show:null,shown:null,hide:null,hidden:null};export default class accordion extends div{constructor(...e){super(...e)}get data(){return super.data}set data(e){if(e){(e=core.extend({},defaultOption,e)).item=e.item?Array.isArray(e.item)?e.item:[e.item]:null,e.autoclose&&(e.id=e.id||core.UUID());let l=e.item?.find((e=>!0===e.active));e.item&&!l&&e.autoopen&&(e.item[0].active=!0);let t=null;e.item&&e.item.length>0&&(t=e.item.map((l=>{let t=(l=core.extend({},defaultItemOption,l)).id||core.UUID(),o=null;o={level:2,id:`${t}_head`,class:"accordion-header",elem:new button({label:l.label,icon:l.icon,showlabel:l.showlabel,iconafter:l.iconafter,badge:l.badge,class:["accordion-button",l.active?null:"collapsed"],"data-bs-toggle":"collapse","data-bs-target":`#${t}_body`,"aria-controls":`${t}_body`,"aria-expanded":l.active?"true":"false"})};let a={id:`${t}_body`,class:["accordion-collapse","collapse",l.active?"show":null],"aria-labelledby":`${t}_head`,"data-bs-parent":e.autoclose?`#${e.id}`:null,"show.bs.collapse":l.show,"shown.bs.collapse":l.shown,"hide.bs.collapse":l.hide,"hidden.bs.collapse":l.hidden};return delete l.label,delete l.showlabel,delete l.hidelabel,delete l.iconafter,delete l.icon,delete l.badge,delete l.active,delete l.show,delete l.shown,delete l.hide,delete l.hidden,a.elem=new div({class:"accordion-body",elem:l.elem}),new div({class:"accordion-item",elem:[new h(o),new div(a)]})}))),delete(e=core.merge(e,{class:["accordion",e.flush?"accordion-flush":null],elem:t})).flush,delete e.autoclose,delete e.autoopen,delete e.item,super.data=e}}}