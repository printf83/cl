"use strict";import css from"./css/menu.css";import*as core from"./core.js";import*as collapse from"./collapse.js";import button from"./button.js";import ul from"./ul.js";import li from"./li.js";import div from"./div.js";const defaultOption={icon:null,label:null,active:!1,item:null,arrow:!0},defaultItemOption={active:!1};export default class menu extends div{constructor(...e){super(...e)}get data(){return super.data}set data(e){(e=core.extend({},defaultOption,e)).item=Array.isArray(e.item)?e.item:[e.item],e.id=e.id?e.id:core.UUID(),e.elem=[new collapse.toggle({target:`#${e.id}`,control:`${e.id}`,toggle:"collapse",show:e.active,elem:new button({class:["cl-menu-toggle",e.arrow?"accordion":null,e.arrow?null:"no-arrow"],label:e.label,icon:e.icon})}),new collapse.container({id:e.id,show:e.active,elem:new ul({class:["cl-menu-container",e.arrow?null:"no-arrow"],elem:e.item.map((e=>("string"==typeof e&&(e={label:e}),e=core.extend({},defaultItemOption,e),delete(e=core.merge(e,{class:e.active?"active":null})).active,new li({elem:new button(e)}))))})})],delete e.id,delete e.icon,delete e.label,delete e.active,delete e.item,delete e.arrow,super.data=e}}